spring:
  application:
    name: jellycash
  config:
    import: optional:file:.env[.properties]
  datasource:
    url: jdbc:postgresql://localhost:${DB_PORT}/${DB_NAME}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  jpa:
    hibernate:
      ddl-auto: create
    open-in-view: true
  security:
    user:
      name: prometheus
      password: prometheus
  devtools:
    restart:
      enabled: false

security:
  jwt:
    secret-key: 45be4658b1047019f96eeb6920d7ae0d90e21ce324d8940b9fcc2f1809bc8a2a

logging:
  level:
    root: INFO
    nl.ckarakoc.jellycash: DEBUG
    org.springframework.web: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.springframework.web.filter.CommonsRequestLoggingFilter: DEBUG

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    prometheus:
      access: unrestricted

  metrics:
    tags:
      application: jellycash
    enable:
      # Not needed for newer versions of Spring Boot, but for older versions, here it is...
      jvm: true              # JVM memory, GC, threads
      process: true          # Process uptime, CPU, open file descriptors
      logback: true          # Logging events
      system: true           # System CPU, memory
      http: true             # HTTP request metrics (status, timing)
      datasource: true       # JDBC / datasource pool metrics
      cache: true            # Caching metrics (if you use Spring Cache)
      tomcat: true           # If using embedded Tomcat
      prometheus: true       # Prometheus binder (if needed)